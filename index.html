<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>yyovvo Studio Â· Premier</title>

    <style>
      :root {
        --bg-deep: #02010a;
        --bg-soft: #050509;
        --glass: rgba(15, 23, 42, 0.86);
        --accent-pink: #f973ff;
        --accent-cyan: #22d3ee;
        --accent-gold: #facc15;
        --text-main: #f9fafb;
        --text-soft: #9ca3af;
        --danger: #f87171;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont,
          "SF Pro Text", "Segoe UI", sans-serif;
        background: radial-gradient(circle at top, #111827 0, #02010a 60%);
        color: var(--text-main);
        overflow-x: hidden;
      }

      /* ---------- GLOBAL CINEMA BACKDROP ---------- */

      .cinema-backdrop {
        position: fixed;
        inset: 0;
        background:
          radial-gradient(circle at 10% -10%, #6d28d9 0, transparent 50%),
          radial-gradient(circle at 90% 110%, #06b6d4 0, transparent 50%),
          radial-gradient(circle at -10% 90%, #f97316 0, transparent 40%),
          radial-gradient(circle at 110% 0%, #ec4899 0, transparent 50%),
          radial-gradient(circle at center, #020617 0, #02010a 55%);
        filter: blur(10px);
        opacity: 0.9;
        pointer-events: none;
        z-index: -3;
        animation: bg-breathe 14s ease-in-out infinite;
      }

      @keyframes bg-breathe {
        0% {
          transform: scale(1) translateY(0);
          filter: blur(12px);
        }
        50% {
          transform: scale(1.03) translateY(-6px);
          filter: blur(16px);
        }
        100% {
          transform: scale(1) translateY(0);
          filter: blur(12px);
        }
      }

      .snow-layer {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: -2;
        background-image: radial-gradient(
            circle at 10% 20%,
            rgba(248, 250, 252, 0.9) 2px,
            transparent 2px
          ),
          radial-gradient(
            circle at 80% 0%,
            rgba(248, 250, 252, 0.7) 1.5px,
            transparent 1.5px
          ),
          radial-gradient(
            circle at 50% 100%,
            rgba(248, 250, 252, 0.6) 1.8px,
            transparent 1.8px
          );
        background-size: 220px 220px, 260px 260px, 320px 320px;
        opacity: 0.55;
        animation: snow-fall 24s linear infinite;
      }

      @keyframes snow-fall {
        0% {
          transform: translateY(-40px);
        }
        100% {
          transform: translateY(40px);
        }
      }

      /* ---------- APP LAYOUT ---------- */

      #root {
        min-height: 100vh;
        display: flex;
        align-items: stretch;
        justify-content: center;
        padding: 12px;
      }

      .studio-shell {
        width: 100%;
        max-width: 960px;
        margin: auto;
        border-radius: 32px;
        padding: 18px 16px 20px;
        background: radial-gradient(circle at top, #020617f0 0, #02010af2 55%);
        border: 1px solid rgba(148, 163, 184, 0.45);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.8),
          0 32px 120px rgba(15, 23, 42, 0.95),
          0 0 80px rgba(96, 165, 250, 0.25);
        position: relative;
        overflow: hidden;
      }

      .studio-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding-bottom: 10px;
        position: relative;
        z-index: 2;
      }

      .studio-brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .brand-mark {
        width: 32px;
        height: 32px;
        border-radius: 12px;
        border: 1px solid rgba(248, 250, 252, 0.2);
        background: conic-gradient(
          from 200deg,
          #f973ff,
          #22d3ee,
          #facc15,
          #f97316,
          #f973ff
        );
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.85),
          0 0 26px rgba(250, 204, 21, 0.6);
      }

      .brand-mark span {
        font-size: 14px;
        font-weight: 800;
        color: #020617;
        letter-spacing: 0.14em;
        text-transform: uppercase;
      }

      .brand-text {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .brand-text-main {
        font-size: 16px;
        font-weight: 600;
      }

      .brand-text-sub {
        font-size: 11px;
        color: var(--text-soft);
      }

      .studio-pill {
        font-size: 11px;
        padding: 6px 10px;
        border-radius: 999px;
        background: linear-gradient(135deg, #22c55e1f, #22c55e33);
        color: #bbf7d0;
        border: 1px solid rgba(34, 197, 94, 0.5);
        display: inline-flex;
        align-items: center;
        gap: 6px;
        white-space: nowrap;
      }

      .studio-pill-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: #22c55e;
        box-shadow: 0 0 12px rgba(34, 197, 94, 0.9);
      }

      /* Mode aurora under header */
      .mode-aurora {
        position: absolute;
        inset: 0;
        pointer-events: none;
        opacity: 0.6;
        mix-blend-mode: screen;
        filter: blur(26px);
        z-index: 1;
        transition: opacity 0.28s ease, transform 0.28s ease;
      }

      .mode-aurora.active {
        opacity: 0.9;
        transform: scale(1.01);
      }

      .studio-main {
        display: grid;
        grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
        gap: 14px;
        margin-top: 4px;
        position: relative;
        z-index: 2;
      }

      @media (max-width: 830px) {
        .studio-main {
          grid-template-columns: minmax(0, 1fr);
        }
        .studio-shell {
          border-radius: 24px;
        }
      }

      /* ---------- LEFT PANEL: MODES + MOODS + MESSAGE ---------- */

      .left-panel {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .section-title {
        font-size: 18px;
        font-weight: 600;
      }

      .section-subtitle {
        font-size: 12px;
        color: var(--text-soft);
      }

      .mode-row {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 8px;
      }

      .mode-pill {
        flex: 1 1 44%;
        min-width: 120px;
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 12px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: radial-gradient(circle at top, #020617ee, #02010aee);
        color: var(--text-main);
        font-size: 13px;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        transition: 0.18s ease;
      }

      .mode-pill::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        background: radial-gradient(
          circle at 0% 0%,
          rgba(249, 115, 255, 0.22),
          transparent 55%
        );
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .mode-pill-icon {
        font-size: 16px;
      }

      .mode-pill-main {
        font-weight: 500;
      }

      .mode-pill-sub {
        font-size: 11px;
        color: var(--text-soft);
      }

      .mode-pill.selected {
        border-color: var(--accent-pink);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.95),
          0 0 26px rgba(249, 115, 255, 0.7);
        transform: translateY(-1px);
      }

      .mode-pill.selected::before {
        opacity: 1;
      }

      .mode-pill:hover {
        box-shadow: 0 0 22px rgba(96, 165, 250, 0.5);
      }

      .mood-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 8px;
        margin-top: 10px;
      }

      .mood-card {
        position: relative;
        height: 110px;
        border-radius: 18px;
        overflow: hidden;
        border: 1px solid rgba(148, 163, 184, 0.55);
        background: radial-gradient(circle at top, #111827, #020617);
        cursor: pointer;
        padding: 10px 10px 9px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        transition:
          transform 0.18s ease,
          box-shadow 0.18s ease,
          border-color 0.18s ease;
        transform-origin: center;
      }

      .mood-card::before {
        content: "";
        position: absolute;
        inset: -40%;
        background:
          radial-gradient(circle at 10% 20%, rgba(248, 250, 252, 0.12), transparent 55%),
          radial-gradient(circle at 90% 10%, rgba(248, 250, 252, 0.12), transparent 55%);
        opacity: 0.9;
        mix-blend-mode: screen;
        animation: mood-glow 8s ease-in-out infinite;
      }

      @keyframes mood-glow {
        0% {
          transform: translate(-8px, -6px) scale(1);
          opacity: 0.8;
        }
        50% {
          transform: translate(6px, 6px) scale(1.05);
          opacity: 1;
        }
        100% {
          transform: translate(-8px, -6px) scale(1);
          opacity: 0.8;
        }
      }

      .mood-card-header {
        position: relative;
        z-index: 1;
        font-size: 12px;
        font-weight: 500;
      }

      .mood-tag {
        position: relative;
        z-index: 1;
        margin-top: 2px;
        font-size: 10px;
        padding: 3px 7px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.86);
        border: 1px solid rgba(148, 163, 184, 0.8);
        color: #e5e7eb;
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .mood-tag-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
      }

      .mood-footer {
        position: relative;
        z-index: 1;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 10px;
        color: #d1d5db;
      }

      .mood-loop-indicator {
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .mood-loop-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: #22c55e;
        box-shadow: 0 0 12px rgba(34, 197, 94, 0.9);
      }

      .mood-card.selected {
        border-color: var(--accent-pink);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.95),
          0 0 26px rgba(249, 115, 255, 0.7);
        transform: translateY(-2px) scale(1.02);
      }

      .mood-card:hover {
        box-shadow: 0 0 36px rgba(96, 165, 250, 0.7);
        transform: translateY(-1px) scale(1.01);
      }

      .message-panel {
        margin-top: 12px;
        padding: 10px 12px;
        border-radius: 20px;
        background: linear-gradient(
            135deg,
            rgba(15, 23, 42, 0.96),
            rgba(2, 6, 23, 0.96)
          ),
          radial-gradient(circle at top, rgba(56, 189, 248, 0.12), transparent);
        border: 1px solid rgba(148, 163, 184, 0.7);
        position: relative;
        overflow: hidden;
      }

      .message-panel::before {
        content: "";
        position: absolute;
        inset: -40%;
        background:
          radial-gradient(circle at 0% 0%, rgba(249, 115, 255, 0.18), transparent 60%),
          radial-gradient(circle at 100% 120%, rgba(56, 189, 248, 0.18), transparent 60%);
        mix-blend-mode: screen;
        opacity: 0.7;
        animation: panel-aura 10s ease-in-out infinite;
      }

      @keyframes panel-aura {
        0% {
          transform: translate(0px, 0px) scale(1);
        }
        50% {
          transform: translate(10px, -5px) scale(1.05);
        }
        100% {
          transform: translate(0px, 0px) scale(1);
        }
      }

      .message-inner {
        position: relative;
        z-index: 1;
      }

      .message-title-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
        margin-bottom: 4px;
      }

      .message-title {
        font-size: 14px;
        font-weight: 500;
      }

      .message-mode-chip {
        font-size: 10px;
        padding: 4px 9px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.9);
        background: rgba(15, 23, 42, 0.92);
        color: #e5e7eb;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .message-mode-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        box-shadow: 0 0 14px rgba(248, 250, 252, 0.7);
      }

      .message-sub {
        font-size: 11px;
        color: var(--text-soft);
        margin-bottom: 6px;
      }

      .suggestion-row {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-bottom: 6px;
      }

      .suggestion-pill {
        font-size: 10px;
        padding: 4px 8px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.7);
        background: rgba(15, 23, 42, 0.96);
        color: #e5e7eb;
        cursor: pointer;
        white-space: nowrap;
        opacity: 0.85;
      }

      .suggestion-pill:hover {
        opacity: 1;
        box-shadow: 0 0 14px rgba(96, 165, 250, 0.6);
      }

      .message-surface {
        position: relative;
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.8);
        background: radial-gradient(
            circle at 0% 0%,
            rgba(15, 23, 42, 0.96),
            rgba(3, 7, 18, 0.98)
          ),
          radial-gradient(
            circle at 100% 100%,
            rgba(3, 105, 161, 0.4),
            rgba(15, 23, 42, 0.96)
          );
        overflow: hidden;
        box-shadow:
          inset 0 0 0 1px rgba(15, 23, 42, 0.92),
          0 24px 70px rgba(15, 23, 42, 0.95);
      }

      .message-surface::before {
        content: "";
        position: absolute;
        inset: -20%;
        background: radial-gradient(
          circle at 20% 0%,
          rgba(248, 250, 252, 0.16),
          transparent 55%
        );
        mix-blend-mode: screen;
        opacity: 0.9;
        animation: typing-aura 9s ease-in-out infinite;
      }

      @keyframes typing-aura {
        0% {
          transform: translate(-12px, -4px) scale(1);
          opacity: 0.9;
        }
        50% {
          transform: translate(10px, 8px) scale(1.03);
          opacity: 1;
        }
        100% {
          transform: translate(-12px, -4px) scale(1);
          opacity: 0.9;
        }
      }

      textarea {
        width: 100%;
        height: 120px;
        padding: 12px 14px;
        border: none;
        outline: none;
        background: transparent;
        color: var(--text-main);
        font-size: 16px;
        line-height: 1.4;
        resize: none;
        position: relative;
        z-index: 1;
      }

      textarea::placeholder {
        color: rgba(148, 163, 184, 0.8);
      }

      .message-meta-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 6px 10px 8px;
        font-size: 11px;
        color: var(--text-soft);
        position: relative;
        z-index: 1;
      }

      .char-count {
        font-variant-numeric: tabular-nums;
      }

      .elastic-pulse {
        animation: elastic-pulse 0.22s ease-out;
      }

      @keyframes elastic-pulse {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 rgba(56, 189, 248, 0);
        }
        60% {
          transform: scale(1.015);
          box-shadow: 0 0 22px rgba(56, 189, 248, 0.6);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 0 0 rgba(56, 189, 248, 0);
        }
      }

      .cta-row {
        display: flex;
        gap: 8px;
        margin-top: 10px;
      }

      .primary-cta {
        flex: 1;
        padding: 11px 14px;
        border-radius: 999px;
        border: none;
        background: linear-gradient(135deg, #f973ff, #22d3ee);
        color: #020617;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 16px 50px rgba(59, 130, 246, 0.9);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        transition: 0.16s ease;
        position: relative;
        overflow: hidden;
      }

      .primary-cta::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          120deg,
          transparent 0%,
          rgba(248, 250, 252, 0.4) 50%,
          transparent 100%
        );
        transform: translateX(-120%);
      }

      .primary-cta:hover {
        transform: translateY(-1px);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 20px 70px rgba(56, 189, 248, 0.95);
      }

      .primary-cta:hover::after {
        animation: cta-shimmer 0.9s ease-out;
      }

      @keyframes cta-shimmer {
        0% {
          transform: translateX(-120%);
        }
        100% {
          transform: translateX(120%);
        }
      }

      .primary-cta.loading {
        cursor: progress;
      }

      .primary-cta.loading::before {
        content: "";
        position: absolute;
        inset-inline: 10px;
        height: 2px;
        bottom: 6px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.25);
        overflow: hidden;
      }

      .primary-cta.loading::after {
        animation: cta-progress 1.1s linear infinite;
      }

      @keyframes cta-progress {
        0% {
          transform: translateX(-110%);
        }
        100% {
          transform: translateX(110%);
        }
      }

      .primary-cta:disabled {
        opacity: 0.35;
        cursor: not-allowed;
        box-shadow: none;
      }

      .secondary-cta {
        padding: 10px 12px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.75);
        background: rgba(15, 23, 42, 0.96);
        color: #e5e7eb;
        font-size: 12px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        white-space: nowrap;
      }

      .secondary-cta:hover {
        box-shadow: 0 0 16px rgba(148, 163, 184, 0.4);
      }

      /* ---------- RIGHT PANEL: PREVIEW ---------- */

      .right-panel {
        border-radius: 24px;
        background: radial-gradient(circle at top, #020617, #000);
        border: 1px solid rgba(148, 163, 184, 0.7);
        padding: 12px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.92),
          0 26px 100px rgba(15, 23, 42, 0.95);
        position: relative;
        overflow: hidden;
      }

      .preview-label-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 11px;
        color: var(--text-soft);
      }

      .preview-mood-name {
        font-weight: 500;
        font-size: 12px;
        color: #e5e7eb;
      }

      .preview-timer {
        font-variant-numeric: tabular-nums;
      }

      .preview-mode-ribbon {
        margin-top: 4px;
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        opacity: 0.8;
      }

      .preview-mode-ribbon span {
        padding: 2px 8px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: rgba(15, 23, 42, 0.88);
      }

      .preview-stage {
        flex: 1;
        border-radius: 18px;
        background: radial-gradient(circle at top, #0b1120, #020617);
        border: 1px solid rgba(148, 163, 184, 0.6);
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 14px;
      }

      /* cinematic orbits */

      .preview-orbit {
        position: absolute;
        inset: -20%;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.22);
        transform: translate(-10%, -10%) rotate(0deg);
        animation: orbit-spin 22s linear infinite;
        opacity: 0.45;
        z-index: 0;
      }

      .preview-orbit-secondary {
        position: absolute;
        inset: -40%;
        border-radius: 999px;
        border: 1px dashed rgba(148, 163, 184, 0.18);
        transform: translate(10%, 10%) rotate(0deg);
        animation: orbit-spin 32s linear infinite reverse;
        opacity: 0.35;
        z-index: 0;
      }

      @keyframes orbit-spin {
        0% {
          transform: translate(-10%, -10%) rotate(0deg);
        }
        100% {
          transform: translate(-10%, -10%) rotate(360deg);
        }
      }

      .preview-mood-layer {
        position: absolute;
        inset: 0;
        opacity: 0.9;
        mix-blend-mode: screen;
        background-size: cover;
        background-position: center;
        animation: mood-pan 22s linear infinite;
        z-index: 0;
      }

      @keyframes mood-pan {
        0% {
          transform: scale(1.04) translate(0, 0);
        }
        50% {
          transform: scale(1.08) translate(-6px, -4px);
        }
        100% {
          transform: scale(1.04) translate(0, 0);
        }
      }

      .preview-overlay {
        position: relative;
        z-index: 2;
        text-align: center;
        padding: 10px;
      }

      .preview-line {
        font-size: 17px;
        line-height: 1.4;
        text-shadow:
          0 0 18px rgba(15, 23, 42, 0.9),
          0 0 42px rgba(15, 23, 42, 1);
        display: inline-block;
        text-align: center;
      }

      .preview-line span {
        display: inline-block;
        opacity: 0;
        transform: translateY(8px);
      }

      .preview-line::after {
        content: "";
        display: inline-block;
        width: 1px;
        height: 1em;
        margin-left: 3px;
        background: rgba(248, 250, 252, 0.9);
        animation: caret-blink 1.1s steps(2, start) infinite;
        vertical-align: bottom;
      }

      @keyframes caret-blink {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }

      .preview-meta {
        margin-top: 8px;
        font-size: 11px;
        color: var(--text-soft);
      }

      .preview-meta-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: #22c55e;
        display: inline-block;
        box-shadow: 0 0 12px rgba(34, 197, 94, 0.9);
        margin-right: 4px;
      }

      .preview-footer-cta {
        margin-top: 10px;
        font-size: 11px;
        color: #e5e7eb;
        opacity: 0.8;
      }

      .preview-footer-cta strong {
        color: #fbbf24;
      }

      .preview-inactive-hint {
        font-size: 12px;
        color: var(--text-soft);
        text-align: center;
        padding: 18px 10px;
      }

      .status-bar {
        font-size: 11px;
        color: #e5e7eb;
        text-align: left;
        padding-top: 2px;
      }

      .status-bar span.error {
        color: var(--danger);
      }

      .status-bar span.ok {
        color: #4ade80;
      }

      .status-bar span.processing {
        color: #fbbf24;
      }

      .status-pulse-dot {
        display: inline-block;
        width: 6px;
        height: 6px;
        border-radius: 999px;
        margin-right: 4px;
        background: #fbbf24;
        box-shadow: 0 0 12px rgba(251, 191, 36, 0.9);
        animation: pulse-dot 1.3s ease-in-out infinite;
      }

      @keyframes pulse-dot {
        0% {
          transform: scale(1);
          opacity: 0.4;
        }
        50% {
          transform: scale(1.2);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 0.4;
        }
      }

      /* ---------- TOAST ---------- */

      .toast {
        position: fixed;
        left: 50%;
        bottom: 16px;
        transform: translateX(-50%);
        padding: 10px 14px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(148, 163, 184, 0.8);
        color: #e5e7eb;
        font-size: 12px;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 20px 40px rgba(15, 23, 42, 0.95);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s ease, transform 0.2s ease;
        z-index: 50;
        max-width: 92vw;
        text-align: center;
      }

      .toast.visible {
        opacity: 1;
        transform: translateX(-50%) translateY(-4px);
        pointer-events: auto;
      }

      /* ---------- RESPONSIVE ---------- */

      @media (max-width: 480px) {
        .studio-shell {
          padding: 14px 12px 16px;
        }
        .section-title {
          font-size: 16px;
        }
        .mode-pill {
          flex: 1 1 100%;
        }
        textarea {
          font-size: 15px;
        }
        .preview-line {
          font-size: 16px;
        }
      }
    </style>
  </head>

  <body>
    <div class="cinema-backdrop"></div>
    <div class="snow-layer"></div>

    <div id="root"></div>

    <!-- Background music (instrumental bed) -->
    <audio id="bg-music" src="hero-instrumental.mp3" loop></audio>

    <!-- React UMD -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <script type="text/javascript">
      const { useState, useEffect, useRef } = React;

      // ---- SAMPLE MOODS (Christmas 60%, New Year 30%, Other 10%) ----
      const SAMPLE_MOODS = [
        {
          id: "midnight-sleigh",
          name: "Midnight Sleigh Run",
          tag: "Christmas â€¢ Cinematic",
          tagColor: "#f97316",
          bg: "radial-gradient(circle at 0% 0%, #0f172a, #020617)",
        },
        {
          id: "snow-halo",
          name: "Snow Halo Glow",
          tag: "Christmas â€¢ Soft",
          tagColor: "#22d3ee",
          bg: "radial-gradient(circle at 10% 0%, #1e293b, #020617)",
        },
        {
          id: "neon-mistletoe",
          name: "Neon Mistletoe",
          tag: "Christmas â€¢ Electric",
          tagColor: "#f973ff",
          bg: "radial-gradient(circle at 100% 0%, #111827, #020617)",
        },
        {
          id: "newyear-spark",
          name: "New Year Sparkstorm",
          tag: "New Year â€¢ Fireworks",
          tagColor: "#facc15",
          bg: "radial-gradient(circle at 100% 100%, #0f172a, #020617)",
        },
        {
          id: "countdown-city",
          name: "City Countdown Lights",
          tag: "New Year â€¢ Skyline",
          tagColor: "#22d3ee",
          bg: "radial-gradient(circle at 0% 100%, #020617, #02010a)",
        },
        {
          id: "cosmic-wish",
          name: "Cosmic Wishfield",
          tag: "Timeless â€¢ Cosmic",
          tagColor: "#a855f7",
          bg: "radial-gradient(circle at 50% 0%, #1e293b, #020617)",
        },
      ];

      const TEXT_SUGGESTIONS = [
        "Every time you hear this, remember me.",
        "If Christmas had a heartbeat, it would sound like this.",
        "Press play whenever you need a little bit of me.",
        "This is what Iâ€™d say if I was standing right in front of you.",
        "Hereâ€™s a little piece of my voice for your wall of moments.",
      ];

      const API_URL =
        "https://yyovvo-studio-ingest.yyovvouk.workers.dev/";

      function showSoftVibration(pattern) {
        try {
          if ("vibrate" in navigator) {
            navigator.vibrate(pattern || [15, 20, 15]);
          }
        } catch (_) {
          // ignore if not supported
        }
      }

      function Toast({ message }) {
        const [visible, setVisible] = useState(false);

        useEffect(() => {
          if (!message) return;
          setVisible(true);
          const t = setTimeout(() => setVisible(false), 2600);
          return () => clearTimeout(t);
        }, [message]);

        return React.createElement(
          "div",
          {
            className: "toast" + (visible && message ? " visible" : ""),
          },
          message
        );
      }

      function App() {
        const [selectedMode, setSelectedMode] = useState("write");
        const [selectedMoodId, setSelectedMoodId] = useState(
          SAMPLE_MOODS[0]?.id || null
        );
        const [messageText, setMessageText] = useState("");
        const [charCount, setCharCount] = useState(0);
        const [isSubmitting, setIsSubmitting] = useState(false);
        const [statusText, setStatusText] = useState("");
        const [statusType, setStatusType] = useState("idle"); // idle | ok | error | processing
        const [toastMessage, setToastMessage] = useState("");

        const surfaceRef = useRef(null);
        const musicRef = useRef(null);
        const hasStartedMusicRef = useRef(false);
        const previewTextRef = useRef(null);

        useEffect(() => {
          musicRef.current = document.getElementById("bg-music");
        }, []);

        function handleModeChange(mode) {
          setSelectedMode(mode);

          // mode-specific accent + behaviour
          if (mode === "write") {
            setToastMessage("Write it once. Let them replay it forever.");
          } else if (mode === "voice") {
            setToastMessage("Voice mode coming â€” today we script the feeling.");
          } else if (mode === "video") {
            setToastMessage("Video energy locked in. This line becomes frames.");
          } else if (mode === "ai") {
            // AI Draft actually drafts a line into the surface
            const seed =
              TEXT_SUGGESTIONS[
                Math.floor(Math.random() * TEXT_SUGGESTIONS.length)
              ];
            setMessageText(seed);
            setCharCount(seed.length);
            surfacePulse();
            setToastMessage(
              "yyovvo drafted your first line. Tweak it or just send."
            );
          }

          showSoftVibration([10, 10, 10]);
        }

        function handleMoodSelect(id) {
          setSelectedMoodId(id);
          showSoftVibration([15]);
        }

        function handleSuggestionClick(text) {
          setMessageText(text);
          setCharCount(text.length);
          surfacePulse();
        }

        function surfacePulse() {
          const el = surfaceRef.current;
          if (!el) return;
          el.classList.remove("elastic-pulse");
          void el.offsetWidth;
          el.classList.add("elastic-pulse");
          showSoftVibration([10]);
        }

        function handleTextChange(e) {
          const value = e.target.value;
          setMessageText(value);
          setCharCount(value.length);
          surfacePulse();
        }

        function getSelectedMood() {
          return (
            SAMPLE_MOODS.find((m) => m.id === selectedMoodId) ||
            SAMPLE_MOODS[0]
          );
        }

        function getMessageModeLabel() {
          if (selectedMode === "voice") return "Voice Premier (text line first)";
          if (selectedMode === "video")
            return "Video Premier (text line first)";
          if (selectedMode === "ai") return "AI Premier Draft";
          return "Written Premier";
        }

        function getMessageTypeForPayload() {
          // For v1 we store as 'text' always, but we track the chosen mode
          return "text";
        }

        function playBackgroundMusic() {
          if (!musicRef.current) return;
          if (hasStartedMusicRef.current) return;
          try {
            musicRef.current.volume = 0.7;
            const p = musicRef.current.play();
            if (p && typeof p.then === "function") {
              p.then(() => {
                hasStartedMusicRef.current = true;
              }).catch(() => {});
            } else {
              hasStartedMusicRef.current = true;
            }
          } catch (_) {}
        }

        function animatePreviewText() {
          const container = previewTextRef.current;
          if (!container) return;

          const text = messageText.trim();
          container.innerHTML = "";
          const chars = text.split("");
          chars.forEach((ch, i) => {
            const span = document.createElement("span");
            span.textContent = ch === " " ? "\u00A0" : ch;
            const delay = 60 * i;
            setTimeout(() => {
              span.style.opacity = "1";
              span.style.transform = "translateY(0)";
            }, delay);
            container.appendChild(span);
          });
        }

        async function handleRenderPremier() {
          if (!selectedMoodId || !messageText.trim()) {
            setToastMessage("Choose a Mood and add your line first.");
            return;
          }

          setIsSubmitting(true);
          setStatusType("processing");
          setStatusText("Forging your Premier into yyovvo Studioâ€¦");

          const mood = getSelectedMood();

          const payload = {
            mood_id: mood.id,
            mood_name: mood.name,
            message_type: getMessageTypeForPayload(),
            message_audio_url: null,
            message_video_url: null,
            message_text: messageText.trim(),
            duration_s: 16,
            user_agent:
              typeof navigator !== "undefined" ? navigator.userAgent : "",
            origin: "yyovvo-studio.pages.dev",
            entry_mode: selectedMode,
          };

          try {
            const res = await fetch(API_URL, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            });

            const rawText = await res.text();
            let data = null;
            try {
              data = JSON.parse(rawText);
            } catch (e) {
              // not JSON; treat as error
            }

            if (!res.ok || !data || data.ok === false) {
              setStatusType("error");
              setStatusText(
                "yyovvo Studio backend error â€” please try again in a moment."
              );
              setToastMessage("That Premier hit a snowdrift. Try again.");
              return;
            }

            const premierId = data.id || data.studio_id || "";
            if (!premierId) {
              setStatusType("error");
              setStatusText("Premier saved, but no ID returned.");
              setToastMessage("Saved, but missing ID â€” try again.");
              return;
            }

            setStatusType("ok");
            setStatusText("Premier saved into yyovvo Studio. Lighting up nowâ€¦");
            showSoftVibration([25, 40, 25]);

            const viewerUrl =
              "https://yyovvo-studio.pages.dev/viewer.html?id=" +
              encodeURIComponent(premierId);

            setToastMessage("Premier ready. Opening your live momentâ€¦");

            window.location.href = viewerUrl;
          } catch (err) {
            setStatusType("error");
            setStatusText(
              "Network / CORS error reaching yyovvo Studio backend."
            );
            setToastMessage("Connection slipped on the ice. Try again.");
          } finally {
            setIsSubmitting(false);
          }
        }

        // Animate preview text when message changes
        useEffect(() => {
          if (!messageText.trim()) return;
          animatePreviewText();
        }, [messageText]);

        // Start music on first interaction (tap)
        useEffect(() => {
          function handleFirstTap() {
            playBackgroundMusic();
            window.removeEventListener("click", handleFirstTap);
            window.removeEventListener("touchstart", handleFirstTap);
          }
          window.addEventListener("click", handleFirstTap, { once: true });
          window.addEventListener("touchstart", handleFirstTap, {
            once: true,
          });
          return () => {
            window.removeEventListener("click", handleFirstTap);
            window.removeEventListener("touchstart", handleFirstTap);
          };
        }, []);

        const selectedMood = getSelectedMood();

        // dynamic accent for mode ribbon + aurora
        const modeAccent =
          selectedMode === "write"
            ? "#f973ff"
            : selectedMode === "voice"
            ? "#22d3ee"
            : selectedMode === "video"
            ? "#facc15"
            : "#a855f7";

        const modeAuroraStyle = {
          background:
            "radial-gradient(circle at 10% 0%, " +
            modeAccent +
            "33, transparent 60%), radial-gradient(circle at 90% 100%, " +
            modeAccent +
            "22, transparent 60%)",
        };

        const modeLabel =
          selectedMode === "write"
            ? "WRITTEN PREMIER"
            : selectedMode === "voice"
            ? "VOICE PREMIER (COMING)"
            : selectedMode === "video"
            ? "VIDEO PREMIER (COMING)"
            : "AI PREMIER DRAFT";

        return React.createElement(
          React.Fragment,
          null,
          React.createElement(
            "div",
            { className: "studio-shell" },
            React.createElement("div", {
              className:
                "mode-aurora" +
                (messageText.trim() || selectedMode ? " active" : ""),
              style: modeAuroraStyle,
            }),
            React.createElement(
              "div",
              { className: "studio-header" },
              React.createElement(
                "div",
                { className: "studio-brand" },
                React.createElement(
                  "div",
                  { className: "brand-mark" },
                  React.createElement("span", null, "YY")
                ),
                React.createElement(
                  "div",
                  { className: "brand-text" },
                  React.createElement(
                    "div",
                    { className: "brand-text-main" },
                    "yyovvo Studio"
                  ),
                  React.createElement(
                    "div",
                    { className: "brand-text-sub" },
                    "Every moment gets a Premier."
                  )
                )
              ),
              React.createElement(
                "div",
                { className: "studio-pill" },
                React.createElement("span", {
                  className: "studio-pill-dot",
                }),
                "Live cinema engine Â· v1.0"
              )
            ),

            React.createElement(
              "div",
              { className: "studio-main" },

              // LEFT PANEL
              React.createElement(
                "div",
                { className: "left-panel" },
                React.createElement(
                  "div",
                  null,
                  React.createElement(
                    "div",
                    { className: "section-title" },
                    "How do you want to speak?"
                  ),
                  React.createElement(
                    "div",
                    { className: "section-subtitle" },
                    "Pick your channel. Weâ€™ll wrap it in snow and light."
                  ),
                  React.createElement(
                    "div",
                    { className: "mode-row" },
                    React.createElement(
                      "button",
                      {
                        type: "button",
                        className:
                          "mode-pill" +
                          (selectedMode === "write" ? " selected" : ""),
                        onClick: () => handleModeChange("write"),
                      },
                      React.createElement(
                        "div",
                        { className: "mode-pill-icon" },
                        "âœï¸"
                      ),
                      React.createElement(
                        "div",
                        null,
                        React.createElement(
                          "div",
                          { className: "mode-pill-main" },
                          "Write"
                        ),
                        React.createElement(
                          "div",
                          { className: "mode-pill-sub" },
                          "One line theyâ€™ll never forget."
                        )
                      )
                    ),
                    React.createElement(
                      "button",
                      {
                        type: "button",
                        className:
                          "mode-pill" +
                          (selectedMode === "voice" ? " selected" : ""),
                        onClick: () => handleModeChange("voice"),
                      },
                      React.createElement(
                        "div",
                        { className: "mode-pill-icon" },
                        "ðŸŽ™"
                      ),
                      React.createElement(
                        "div",
                        null,
                        React.createElement(
                          "div",
                          { className: "mode-pill-main" },
                          "Voice"
                        ),
                        React.createElement(
                          "div",
                          { className: "mode-pill-sub" },
                          "We start with words. Voice layer next."
                        )
                      )
                    ),
                    React.createElement(
                      "button",
                      {
                        type: "button",
                        className:
                          "mode-pill" +
                          (selectedMode === "video" ? " selected" : ""),
                        onClick: () => handleModeChange("video"),
                      },
                      React.createElement(
                        "div",
                        { className: "mode-pill-icon" },
                        "ðŸ“¹"
                      ),
                      React.createElement(
                        "div",
                        null,
                        React.createElement(
                          "div",
                          { className: "mode-pill-main" },
                          "Video"
                        ),
                        React.createElement(
                          "div",
                          { className: "mode-pill-sub" },
                          "Film energy â€” text first, frames to come."
                        )
                      )
                    ),
                    React.createElement(
                      "button",
                      {
                        type: "button",
                        className:
                          "mode-pill" +
                          (selectedMode === "ai" ? " selected" : ""),
                        onClick: () => handleModeChange("ai"),
                      },
                      React.createElement(
                        "div",
                        { className: "mode-pill-icon" },
                        "âœ¨"
                      ),
                      React.createElement(
                        "div",
                        null,
                        React.createElement(
                          "div",
                          { className: "mode-pill-main" },
                          "AI Draft"
                        ),
                        React.createElement(
                          "div",
                          { className: "mode-pill-sub" },
                          "yyovvo writes the first line for you."
                        )
                      )
                    )
                  )
                ),

                React.createElement(
                  "div",
                  null,
                  React.createElement(
                    "div",
                    { className: "section-title", style: { marginTop: 10 } },
                    "Pick your Mood"
                  ),
                  React.createElement(
                    "div",
                    { className: "section-subtitle" },
                    "This is the opening shot. Christmas, New Year, or timeless."
                  ),
                  React.createElement(
                    "div",
                    { className: "mood-grid" },
                    SAMPLE_MOODS.map((m) =>
                      React.createElement(
                        "div",
                        {
                          key: m.id,
                          className:
                            "mood-card" +
                            (selectedMoodId === m.id ? " selected" : ""),
                          onClick: () => handleMoodSelect(m.id),
                          style: { background: m.bg },
                        },
                        React.createElement(
                          "div",
                          { className: "mood-card-header" },
                          m.name
                        ),
                        React.createElement(
                          "div",
                          { className: "mood-tag" },
                          React.createElement("span", {
                            className: "mood-tag-dot",
                            style: { background: m.tagColor },
                          }),
                          m.tag
                        ),
                        React.createElement(
                          "div",
                          { className: "mood-footer" },
                          React.createElement(
                            "div",
                            { className: "mood-loop-indicator" },
                            React.createElement("span", {
                              className: "mood-loop-dot",
                            }),
                            React.createElement(
                              "span",
                              null,
                              "Animated 3â€“6s loop"
                            )
                          ),
                          React.createElement(
                            "div",
                            null,
                            "Perfect for TikTok walls"
                          )
                        )
                      )
                    )
                  )
                ),

                React.createElement(
                  "div",
                  { className: "message-panel" },
                  React.createElement(
                    "div",
                    { className: "message-inner" },
                    React.createElement(
                      "div",
                      { className: "message-title-row" },
                      React.createElement(
                        "div",
                        { className: "message-title" },
                        "Add your line"
                      ),
                      React.createElement(
                        "div",
                        { className: "message-mode-chip" },
                        React.createElement("span", {
                          className: "message-mode-dot",
                          style: { background: modeAccent },
                        }),
                        getMessageModeLabel()
                      )
                    ),
                    React.createElement(
                      "div",
                      { className: "message-sub" },
                      "Type the sentence theyâ€™ll remember every time they think of this Christmas."
                    ),
                    React.createElement(
                      "div",
                      { className: "suggestion-row" },
                      TEXT_SUGGESTIONS.map((s, i) =>
                        React.createElement(
                          "button",
                          {
                            key: "sugg_" + i,
                            type: "button",
                            className: "suggestion-pill",
                            onClick: () => handleSuggestionClick(s),
                          },
                          s
                        )
                      )
                    ),
                    React.createElement(
                      "div",
                      { ref: surfaceRef, className: "message-surface" },
                      React.createElement("textarea", {
                        placeholder:
                          "Tap the surface and let it absorb your wordsâ€¦",
                        value: messageText,
                        maxLength: 280,
                        onChange: handleTextChange,
                      }),
                      React.createElement(
                        "div",
                        { className: "message-meta-row" },
                        React.createElement(
                          "div",
                          { className: "char-count" },
                          charCount,
                          " / 280"
                        ),
                        React.createElement(
                          "div",
                          null,
                          "Dynamic haptics Â· Mood-reactive typing"
                        )
                      )
                    ),
                    React.createElement(
                      "div",
                      { className: "cta-row" },
                      React.createElement(
                        "button",
                        {
                          type: "button",
                          className:
                            "primary-cta" +
                            (isSubmitting ? " loading" : ""),
                          disabled: isSubmitting || !messageText.trim(),
                          onClick: handleRenderPremier,
                        },
                        isSubmitting
                          ? "Rendering your Premierâ€¦"
                          : "Render my Premier â†’"
                      ),
                      React.createElement(
                        "button",
                        {
                          type: "button",
                          className: "secondary-cta",
                          onClick: () => {
                            setMessageText("");
                            setCharCount(0);
                            setToastMessage("Cleared. New line, new feeling.");
                          },
                        },
                        "Reset line"
                      )
                    )
                  )
                )
              ),

              // RIGHT PANEL
              React.createElement(
                "div",
                { className: "right-panel" },
                React.createElement(
                  "div",
                  { className: "preview-label-row" },
                  React.createElement(
                    "div",
                    null,
                    React.createElement(
                      "div",
                      { className: "preview-mood-name" },
                      selectedMood.name
                    ),
                    React.createElement(
                      "div",
                      null,
                      "Live Premier Preview"
                    )
                  ),
                  React.createElement(
                    "div",
                    { className: "preview-timer" },
                    "00:13â€“00:16"
                  )
                ),
                React.createElement(
                  "div",
                  { className: "preview-mode-ribbon" },
                  React.createElement("span", null, modeLabel)
                ),
                React.createElement(
                  "div",
                  { className: "preview-stage" },
                  React.createElement("div", {
                    className: "preview-orbit",
                  }),
                  React.createElement("div", {
                    className: "preview-orbit preview-orbit-secondary",
                  }),
                  React.createElement("div", {
                    className: "preview-mood-layer",
                    style: { backgroundImage: selectedMood.bg },
                  }),
                  messageText.trim()
                    ? React.createElement(
                        "div",
                        { className: "preview-overlay" },
                        React.createElement("div", {
                          className: "preview-line",
                          ref: previewTextRef,
                        }),
                        React.createElement(
                          "div",
                          { className: "preview-meta" },
                          React.createElement("span", {
                            className: "preview-meta-dot",
                          }),
                          "Instrumental bed Â· elastic captions Â· signature stroke to follow"
                        ),
                        React.createElement(
                          "div",
                          { className: "preview-footer-cta" },
                          "This is how your yyovvo will ",
                          React.createElement("strong", null, "start"),
                          " breathing on someoneâ€™s screen."
                        )
                      )
                    : React.createElement(
                        "div",
                        { className: "preview-inactive-hint" },
                        "Your Premier preview will appear here as you type. Pick a Mood, add your line, and watch the words turn into a living moment."
                      )
                ),
                React.createElement(
                  "div",
                  { className: "status-bar" },
                  statusType === "processing" &&
                    React.createElement(
                      React.Fragment,
                      null,
                      React.createElement("span", {
                        className: "status-pulse-dot",
                      }),
                      React.createElement(
                        "span",
                        { className: "processing" },
                        statusText || "Preparing your Premierâ€¦"
                      )
                    ),
                  statusType === "ok" &&
                    React.createElement(
                      "span",
                      { className: "ok" },
                      statusText
                    ),
                  statusType === "error" &&
                    React.createElement(
                      "span",
                      { className: "error" },
                      statusText
                    ),
                  statusType === "idle" &&
                    React.createElement(
                      "span",
                      null,
                      "Ready when you are. Tap Render when your line feels right."
                    )
                )
              )
            )
          ),
          React.createElement(Toast, { message: toastMessage })
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(
        React.createElement(App)
      );
    </script>
  </body>
</html>
